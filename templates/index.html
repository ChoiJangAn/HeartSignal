<script>
    function updateData() {
        fetch('/data')
            .then(response => response.json())
            .then(data => {
                const heartbeat = data.heartbeat;
                document.getElementById('heartbeat').textContent = `심박도: ${heartbeat}`;
                const warning = document.getElementById('warning');
                
                // 현재 상태를 확인하고 필요할 때만 클래스 추가/제거
                if (heartbeat >= 110 && warning.classList.contains('hidden')) {
                    warning.classList.remove('hidden');
                } else if (heartbeat < 110 && !warning.classList.contains('hidden')) {
                    warning.classList.add('hidden');
                }
            });
    }

    setInterval(updateData, 1000);
</script>
